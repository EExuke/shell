Vim 常用操作

一：基础
插入命令
i  : 在光标所在字符前插入    （I: 行首）
a : 在光标所在字符后插入    （A: 行尾）
o : 在光标下插入新行          （O: 光标上）

定位命令

w：向前移动，光标停留在下个单词词首，每次一个单词（单词中不含其他字符如：- \ = +等）

W：向前移动，光标停留在下个单词词首，每次一个字符串（字符串可以含有其字符如：- \ = +等，is-a word/and/bog 这种都是字串）

b：向后移动，光标停留在前个单词词首，每次一个单词（单词中不含其他字符如：- \ = +等）

B：向后移动，光标停留在前个单词词首，每次一个字符串（字符串可以含有其字符如：- \ = +等，is-a word/and/bog 这种都是字串）

e：向前移动，光标停留在前个单词词尾，每次一个单词（单词中不含其他字符如：- \ = +等）

E：向前移动，光标停留在前个单词词尾，每次一个字符串（字符串可以含有其字符如：- \ = +等，is-a word/and/bog 这种都是字串）

h     ：光标向左移动一列

l     ：光标向右移动一列

j或+     ：光标向下移动一行

k或-     ：光标向上移动一行


: set nu       ：设置行号
: set nonu   ：取消行号
gg               ：到第一行
G                 ：到最后一行
:n                ：到第n行
M                ：移至屏幕中央行
H                 ：移至当前屏幕的第一行
$                 ：移至行尾
0或^            ：移至行首
fm               ：光标移动到当前行的下一个字符m处

屏幕翻页
Ctrl+D     ：下翻半屏
Ctrl+U     ：上翻半屏
Ctrl+F     ：下翻一屏
Ctrl+B     ：上翻一屏

删除命令
x              ：删除光标所在处字符
nx            ：删除光标所在处后n个字符
dd           ：删除光标所在行，ndd删除n行
dG           ：删除光标所在行到文件末尾所有内容
dw           ：删除单词
dfm         ：删除从光标开始到第一个字符m间的所有文本
D             ：删除光标所在处到行尾内容
nd           ：删除第n行
:n1,n2d    ：删除指定范围的行，n2可以用$表末尾行
s              ：删除光标所在字符，并进入输入状态
S              ：删除光标所在行的所有字符，并进入输入状态


复制和粘贴
yy      ：复制当前行
nyy    ：复制当前行以下n行
dd      ：剪切当前行
ndd    ：剪切当前行以下n行
p        ：粘贴在当前光标所在行下    （P：所在行上）
:m copy n     ：把m行复制到n行后
:m,n copy $     ：把m～n行复制到文件末尾行后
: . , $ copy 0     ：把当前行到末尾行的所有内容，复制到文件头     （数字0代表首行）
*将上述 copy 改为 move 则效果为“移动”文本快

替换和取消
r     ：替换光标所在处的字符
R    ：从光标所在处开始替换字符，按Esc结束
cw     ：单词替换
cc     ：行替换
C     ：替换当前行剩余部分
cfm     ：替换当前字符到指定字符m的文本
u    ：取消上一步操作

搜索和搜索替换
/str    ：搜索指定字符串（:set ic 忽略大小写）
:g/name     ：查找包含name的行
n        ：下一处
N       ：上一处
:%s/old/new/ g    ：全文替换指定字符串
:n1,n2s/old/new/ g    ：在一定范围内替换指定字符串

保存和退出
:w    ：保存修改
:w new_filename    ：另存为指定文件
:wq    ：保存修改并退出
ZZ     ：快捷键，保存修改并退出
:q!     ：不保存修改并强制退出
:wq!    ：强制保存修改并退出
:m,n write filename     ：把第m行到n行的内容另存为文件filename
:n write! file     ：把第n行强行另存为文件file，如果目录下已有file，则直接覆盖
:n write >> file     ：把第n行追加(>>)到文件file末尾


二：进阶

导入命令执行结果：( r 或 read 都可)

	:r  /filename    ：导入文件内容
	:!命令      ：不退出vim，在vim执行shell命令
	:r !命令    ：导入命令执行结果
	:n r !命令 ：在第n行之后导入命令执行结果
	:n read file     ：在第n行之后导入file文件内容


	定义快捷键：

	:map  (按)快捷键  触发命令

	连续行注释：

	:n1,n2s/^ /#/g    ：行首添加#    (^ 表示行首；g 结束)
	:n1,n2s/^#/ / g    ：取消行首#
	 :n1,n2s/^/\/\//g   ：行首添加//  ( \ 为转义字符 )

	 替换：

	 :ab mymail 997028792@qq.com

	 保存定义快捷键配置 ->用户配置文件 .vimrc

	 ~/.vimrc
	 set nu
	 map <快捷键> I#<ESC>
	 ab mymail 997028792@qq.com
	 ab a b

	 ----
